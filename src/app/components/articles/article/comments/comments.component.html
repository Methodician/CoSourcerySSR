<!-- Top-Level Comment -->
<section *ngIf="!isArticleNew" class="wrapper">
  <section class="header">
    <h2 class="title">Discussion</h2>
    <button
      *ngIf="!isTopLevelCommentBeingCreated()"
      class="cos-btn"
      (click)="authCheck() ? enterNewCommentMode() : null"
    >
      Comment
    </button>
  </section>

  <section class="comment-wrapper_root">
    <section
      *ngIf="isTopLevelCommentBeingCreated()"
      class="comment-container comment-container_new-reply comment-content-region"
    >
      <div class="comment-container__border-decoration">
        <div
          class="border-endpoint border-endpoint_top border-endpoint_accent-2"
        ></div>
        <div
          class="border-endpoint border-endpoint_bottom border-endpoint_accent-2"
        ></div>
      </div>
      <cos-comment
        #newCommentComponent
        [isBeingEdited]="true"
        [comment]="commentState$.value"
      >
      </cos-comment>
      <section class="comment-controls">
        <button
          class="mat-icon-btn mat-icon-btn_small"
          (click)="saveNewComment(newCommentComponent.comment)"
        >
          <mat-icon class="mat-icon_small">check</mat-icon>
          <span class="mat-icon-btn__tooltip mat-icon-btn__tooltip_left"
            >Save</span
          >
        </button>
        <button
          class="mat-icon-btn mat-icon-btn_small"
          (click)="onCancelNewComment()"
        >
          <mat-icon class="mat-icon_small">clear</mat-icon>
          <span class="mat-icon-btn__tooltip mat-icon-btn__tooltip_left"
            >Cancel</span
          >
        </button>
      </section>
    </section>
  </section>
  <!-- Existing Comments -->
  <cos-comment-list [isUnderComment]="false" [parentKey]="articleId">
  </cos-comment-list>
  <!-- <cos-comment-list
    [isUnderComment]="false"
    [commentReplyInfo]="commentReplyInfo"
    [commentEditInfo]="commentEditInfo"
    [loggedInUser]="loggedInUser"
    [parentKey]="articleId"
    [userMap]="userMap"
    [userKeys]="userKeys"
    [userVotesMap]="userVotesMap"
  >
  </cos-comment-list> -->
</section>
