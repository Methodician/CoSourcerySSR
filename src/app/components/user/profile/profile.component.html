<main *ngIf="!!user">
  <h2 class="headline">{{ user.alias }}'s profile</h2>
  <article class="profile-card">
    <!-- <section class="pic"> -->
    <!-- <img
          src="https://firebasestorage.googleapis.com/v0/b/cosourcery.appspot.com/o/profileImages%2FXb8LjcdbBhhzbsmb9TWarfYx6SK2?alt=media&token=05992704-2731-47a5-a338-c92a1fbe98f1"
          alt=""
        /> -->
    <img
      src="https://firebasestorage.googleapis.com/v0/b/cosourcery.appspot.com/o/profileImages%2FRGkcnuAnlGYsKuooNuNGELuJjSh2?alt=media&token=e38641c3-2acb-4e80-9490-e6f191210193"
      alt=""
    />
    <!-- </section> -->
    <section class="basics">
      <p>
        <b>
          <cos-field-edit-button
            class="edit-button"
            [isActive]="isCtrlActive('fName')"
            tooltipName="First Name"
            (clicked)="toggleCtrl('fName')"
          ></cos-field-edit-button>
          {{ user.fName }}
        </b>
        <b>
          <cos-field-edit-button
            class="edit-button"
            [isActive]="isCtrlActive('lName')"
            tooltipName="Last Name"
            (clicked)="toggleCtrl('lName')"
          ></cos-field-edit-button>
          {{ user.lName }} </b
        >, also known as
        <b>
          <cos-field-edit-button
            class="edit-button"
            [isActive]="isCtrlActive('alias')"
            tooltipName="Alias"
            (clicked)="toggleCtrl('alias')"
          ></cos-field-edit-button>
          {{ user.alias }}
        </b>
        lives in
        <b>
          <cos-field-edit-button
            class="edit-button"
            [isActive]="isCtrlActive('city')"
            tooltipName="City"
            (clicked)="toggleCtrl('city')"
          ></cos-field-edit-button
          >{{ user.city }}</b
        >,
        <b>
          <cos-field-edit-button
            class="edit-button"
            [isActive]="isCtrlActive('state')"
            tooltipName="State"
            (clicked)="toggleCtrl('state')"
          ></cos-field-edit-button
          >{{ user.state }}</b
        >,
        <b>
          <cos-field-edit-button
            class="edit-button"
            [isActive]="isCtrlActive('zipCode')"
            tooltipName="Zip Code"
            (clicked)="toggleCtrl('zipCode')"
          ></cos-field-edit-button
          >{{ user.zipCode }}</b
        >
      </p>
    </section>
  </article>
  <section class="bio">
    <cos-field-edit-button
      class="edit-button"
      [isActive]="isCtrlActive('bio')"
      tooltipName="bio"
      (clicked)="toggleCtrl('bio')"
    ></cos-field-edit-button>
    <p>
      {{ user.bio }}
    </p>
  </section>

  <!-- This really belongs in its own component maybe -->
  <!-- SAVE-UNDO UI -->
  <section *ngIf="!!form" class="save-undo-flag">
    <div
      class="save-undo-sticky-position sticky"
      [ngClass]="{
        extended: wasUserEdited(),
        disabled: !form.valid || !wasUserEdited()
      }"
    >
      <button
        class="save-control save-button mat-icon-btn mat-icon-btn_no-shadow"
        type="button"
        [disabled]="!form.valid || !wasUserEdited()"
        (click)="saveChanges()"
      >
        <mat-icon>done</mat-icon>
      </button>

      <div
        class="restore-control flag flag-axle flag-axle-90"
        [ngClass]="{ 'flag-axle-90_active': wasUserEdited() }"
      >
        <div class="flag flag-pole flag-pole_right">
          <button
            class="restore-button mat-icon-btn mat-icon-btn_no-shadow"
            type="button"
            [disabled]="!wasUserEdited()"
            (click)="cancelChanges()"
          >
            <mat-icon>replay</mat-icon>
          </button>
        </div>
      </div>

      <div
        class="flag flag-axle flag-axle-270"
        [ngClass]="{ 'flag-axle-270_active': wasUserEdited() }"
      >
        <div class="flag flag-pole flag-pole_left">
          <div class="flag flag-tooltip">
            <span class="flag-tooltip_changes">Unsaved</span>
            <span class="flag-tooltip_save">{{ saveTooltipText() }}</span>
            <span class="flag-tooltip_restore">Undo Changes</span>
          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- end save-undo ui -->
</main>
